"use strict";var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function u(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(u,s)}c((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(u=2&n[0]?o.return:n[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(u=c.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){c.label=n[1];break}if(6===n[0]&&c.label<u[1]){c.label=u[1],u=n;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(n);break}u[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{r=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,u,s,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=function(e){return"string"==typeof e},n=function(e){return e instanceof Blob};(function(){(function(){return"navigator"in this&&"sendBeacon"in this.navigator}).call(this)||("navigator"in this||(this.navigator={}),"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=function(e,i){var r=this.event&&this.event.type,o="unload"===r||"beforeunload"===r,u="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");u.open("POST",e,!o),u.withCredentials=!0,u.setRequestHeader("Accept","*/*"),t(i)?(u.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),u.responseType="text"):n(i)&&i.type&&u.setRequestHeader("Content-Type",i.type);try{u.send(i)}catch(e){return!1}return!0}.bind(this)))}).call("object"===("undefined"==typeof window?"undefined":e(window))?window:{})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}function n(){return void 0!==M?function(){M(r)}:i()}function i(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<x;e+=2)(0,L[e])(L[e+1]),L[e]=void 0,L[e+1]=void 0;x=0}function o(e,t){var n=this,i=new this.constructor(s);void 0===i[V]&&E(i);var r=n._state;if(r){var o=arguments[r-1];G(function(){return C(r,i,o,n._result)})}else T(n,i,e,t);return i}function u(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(s);return m(n,e),n}function s(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function a(){return new TypeError("A promises callback cannot return that same promise.")}function l(e){try{return e.then}catch(e){return J.error=e,J}}function f(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function p(e,t,n){G(function(e){var i=!1,r=f(n,t,function(n){i||(i=!0,t!==n?m(e,n):b(e,n))},function(t){i||(i=!0,v(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,v(e,r))},e)}function d(e,t){t._state===q?b(e,t._result):t._state===X?v(e,t._result):T(t,void 0,function(t){return m(e,t)},function(t){return v(e,t)})}function g(e,n,i){n.constructor===e.constructor&&i===o&&n.constructor.resolve===u?d(e,n):i===J?(v(e,J.error),J.error=null):void 0===i?b(e,n):t(i)?p(e,n,i):b(e,n)}function m(t,n){t===n?v(t,c()):e(n)?g(t,n,l(n)):b(t,n)}function h(e){e._onerror&&e._onerror(e._result),y(e)}function b(e,t){e._state===U&&(e._result=t,e._state=q,0!==e._subscribers.length&&G(y,e))}function v(e,t){e._state===U&&(e._state=X,e._result=t,G(h,e))}function T(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+q]=n,r[o+X]=i,0===o&&e._state&&G(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,u=0;u<t.length;u+=3)i=t[u],r=t[u+n],i?C(n,i,r,o):r(o);e._subscribers.length=0}}function S(e,t){try{return e(t)}catch(e){return J.error=e,J}}function C(e,n,i,r){var o=t(i),u=void 0,s=void 0,c=void 0,l=void 0;if(o){if((u=S(i,r))===J?(l=!0,s=u.error,u.error=null):c=!0,n===u)return void v(n,a())}else u=r,c=!0;n._state!==U||(o&&c?m(n,u):l?v(n,s):e===q?b(n,u):e===X&&v(n,u))}function P(e,t){try{t(function(t){m(e,t)},function(t){v(e,t)})}catch(t){v(e,t)}}function I(){return z++}function E(e){e[V]=z++,e._state=void 0,e._result=void 0,e._subscribers=[]}function _(){return new Error("Array Methods must be provided an Array")}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function A(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var w=void 0,F=w=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},x=0,M=void 0,R=void 0,G=function(e,t){L[x]=e,L[x+1]=t,2===(x+=2)&&(R?R(r):N())},H="undefined"!=typeof window?window:void 0,j=H||{},k=j.MutationObserver||j.WebKitMutationObserver,D="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=new Array(1e3),N=void 0;N=D?function(){return process.nextTick(r)}:k?function(){var e=0,t=new k(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():B?function(){var e=new MessageChannel;return e.port1.onmessage=r,function(){return e.port2.postMessage(0)}}():void 0===H&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return M=e.runOnLoop||e.runOnContext,n()}catch(e){return i()}}():i();var V=Math.random().toString(36).substring(2),U=void 0,q=1,X=2,J={error:null},z=0,Q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(s),this.promise[V]||E(this.promise),F(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):v(this.promise,_())}return e.prototype._enumerate=function(e){for(var t=0;this._state===U&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===u){var r=l(e);if(r===o&&e._state!==U)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===Y){var c=new n(s);g(c,e,r),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===U&&(this._remaining--,e===X?v(i,n):this._result[t]=n),0===this._remaining&&b(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){return n._settledAt(q,t,e)},function(e){return n._settledAt(X,t,e)})},e}(),Y=function(){function e(t){this[V]=I(),this._result=this._state=void 0,this._subscribers=[],s!==t&&("function"!=typeof t&&O(),this instanceof e?P(this,t):A())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return Y.prototype.then=o,Y.all=function(e){return new Q(this,e).promise},Y.race=function(e){var t=this;return new t(F(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},Y.resolve=u,Y.reject=function(e){var t=new this(s);return v(t,e),t},Y._setScheduler=function(e){R=e},Y._setAsap=function(e){G=e},Y._asap=G,Y.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=Y},Y.Promise=Y,Y.polyfill(),Y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}}});var OneTrust;!function(e){var t=function(){return function(){}}();e.JwtPayload=t;var n=function(){return function(){}}();e.JwtPurposePayload=n}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){return function(e,t){this._responseText=e,this._statusCode=t,this.responseText=e,this.statusCode=t}}();e.HttpResponse=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(){}return t.GetParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t.AddListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,function(){return n.call(e,window.event)}):e["on"+t]=n,!0},t.FindElementById=function(e,t){void 0===t&&(t=null);var n;return t&&(n=t.querySelector("#"+e)),n||(n=document.getElementById(e)),n},t.FindElementsByClass=function(e,t){void 0===t&&(t=null);var n;return t&&(n=this.FormHTMLElementsArray(t.querySelectorAll("."+e))),n||(n=this.FormHTMLElementsArray(document.getElementsByClassName(e))),n},t.FindElementsByTagName=function(e,t){void 0===t&&(t=null);var n;return t&&(n=this.FormHTMLElementsArray(t.querySelectorAll(e))),n||(n=this.FormHTMLElementsArray(document.getElementsByTagName(e))),n},t.FormHTMLElementsArray=function(e){return Array.from?Array.from(e):[].slice.call(e)},t.FindElementByQuery=function(e){return document.querySelector(e)},t.FindElementsByQueryAll=function(e){return document.querySelectorAll(e)},t.CreateElement=function(e){return document.createElement(e)},t.CreateTextNode=function(e){return document.createTextNode(e)},t.JsonCall=function(t,n,i){var r=new XMLHttpRequest;return r.open(t,n,!1),r.setRequestHeader("Content-Type","application/json"),r.onerror=function(){},r.send(i),new e.HttpResponse(r.responseText,r.status)},t.JsonCallAsync=function(t,n,i,r){return void 0===i&&(i=""),new Promise(function(o,u){var s=new XMLHttpRequest;s.onload=function(){var t=new e.HttpResponse(s.responseText,s.status);s.status>=200&&s.status<300?o(t):u(t)},s.onerror=function(){var t=new e.HttpResponse(s.responseText,s.status);u(t)},s.open(t,n,!0),s.setRequestHeader("Content-Type","application/json"),r&&(r.startsWith("Bearer")||(r="Bearer "+r),s.setRequestHeader("Authorization",r)),s.send(i)})},t.BeaconCall=function(e,t){return navigator.sendBeacon(e,t)},t.DecodeToken=function(e){if(!e)return null;var t=e.split(".")[1];if(!t)return null;t=t.replace(/-/g,"+").replace(/_/g,"/");var n=window.atob(t);return JSON.parse(n)},t.DownloadText=function(e,t){var n=document.createElement("a");return n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),!0},t.StopEvent=function(e){e.preventDefault(),e.stopImmediatePropagation()},t.RestartMouseEvent=function(e){try{var t=new MouseEvent("click",{detail:e.detail,clientX:e.clientX,clientY:e.clientY,button:e.button,ctrlKey:e.ctrlKey,relatedTarget:e.relatedTarget});return e.target.dispatchEvent(t)}catch(t){return e.target.click()}},t.HtmlEncode=function(e){if(!e)return e;var n=t.CreateElement("div");return n.innerText=n.textContent=e,e=n.innerHTML},t.unicodeBase64Decode=function(e){return decodeURIComponent(Array.prototype.map.call(window.atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},t.FindElementByDefinition=function(e,t,n){void 0===n&&(n=null);for(var i=this.FindElementsByTagName(t,n),r=[],o=!1,u=0;u<i.length;u++){var s=i[u],c=s.getAttribute(e.identifierAttributes||e.targetElementAttribute);if(c===e.identifierValues||c===e.targetElementValue){var a=s.getAttribute("type");switch(a){case"radio":case"checkbox":o="radio"===a,r.push(s);break;default:return s}}}if(r.length){var l=r.filter(function(e){return e.checked||e.getAttribute("checked")});return l.length?o?l[0]:l:null}return null},t.GetPageDomain=function(){return window.location.hostname.replace("www.","")},t.AddDropdownOption=function(e,n,i,r){if(void 0===i&&(i=""),void 0===r&&(r=!1),!e)return!1;i||(i=n);var o=t.CreateElement("option");return o.label=i,o.text=i,o.value=n,o.selected=r,e.add(o),!0},t.InjectCss=function(e,t){if(e){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t&&n.setAttribute("class",t),document.head.appendChild(n)}},t.RemoveByClass=function(e,t){for(var n=this.FindElementsByTagName(e),i=0,r=n.length-1;r>=0;r--){var o=n[r];o.className===t&&(document.head.removeChild(o),i++)}return i},t.RemoveByUrl=function(e,t){for(var n=this.FindElementsByTagName(e),i=0,r=n.length-1;r>=0;r--){var o=n[r];o.href===t&&(document.head.removeChild(o),i++)}return i},t.GetDocumentLanguage=function(){return document.documentElement.lang},t.ToggleHTMLElementClass=function(e,t){e.classList.toggle(t)},t.UpdateHTMLElementInnerHTML=function(e,t){e.innerHTML=t},t}();e.Helpers=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){!function(e){e.SCRIPTINIT="script-init",e.PAGELOAD="page-load",e.DOMLOAD="document-load",e.EXTERNAL="external"}(e.ConsentRegisterEventType||(e.ConsentRegisterEventType={}))}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"ConsentScriptIdAttribute",{get:function(){return"consent-receipt-script"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeScriptId",{get:function(){return"otprivacy-notice-script"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeVersionClass",{get:function(){return"otnotice__version"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ReceiptIdParameterName",{get:function(){return"receiptId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ExplicitConsentTypes",{get:function(){return["OPTINCHECKBOX","OPTOUTCHECKBOX","CONDITIONALTRIGGER"]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FormSubmitConsentType",{get:function(){return"FORMSUBMIT"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DefaultDataElementValueAttribute",{get:function(){return"value"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"BeaconSuccessResult",{get:function(){return"SUCCESS"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Timestamp",{get:function(){return"TIMESTAMP"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CssAssetClass",{get:function(){return"otnotice-css"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLanguageDropdownId",{get:function(){return"otnotice-language-dropdown"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLanguageDropdownContainer",{get:function(){return"otnotice-language-dropdown-container"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CollectionPointAttibute",{get:function(){return"data-ot-cp-id"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FixedReceiptTooltip",{get:function(){return"FixedReceiptTooltip"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TenantIdAttribute",{get:function(){return"data-ot-id"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Token",{get:function(){return"token"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IdentifierIdAttribute",{get:function(){return"identifierId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TriggerIdAttribute",{get:function(){return"triggerId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ConditionalConsentTriggerIdAttribute",{get:function(){return"conditionalConsentTriggerId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ConfirmationIdAttribute",{get:function(){return"confirmationId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Settings",{get:function(){return"settings"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SettingsUrl",{get:function(){return"settingsUrl"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"BundleUrl",{get:function(){return"bundleUrl"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ScriptSubFolder",{get:function(){return"consent-receipt-scripts"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SettingsSubFolder",{get:function(){return"consentmanager-settings"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ConsentRegisterEventAttribute",{get:function(){return"data-ot-consent-register-event"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MobileMenu",{get:function(){return"otnotice-menu-mobile"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MobileMenuContainer",{get:function(){return"otnotice-menu-mobile-container"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SelectedMenu",{get:function(){return"otnotice-menu-selected"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MobileMenuSection",{get:function(){return"otnotice-menu-section-mobile"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CollapseExpandIcon",{get:function(){return"otnotice-collapse-expand-icon"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLayerBreakerHeaderClass",{get:function(){return"ot-notice-layer-breaker-header"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLayerBreakerContentClass",{get:function(){return"ot-notice-layer-breaker-content"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLayerBreakerFooterId",{get:function(){return"ot-notice-layer-break-footer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoticeLayerBreakerHeaderId",{get:function(){return"ot-notice-layer-break-header"},enumerable:!0,configurable:!0}),e}();e.Constants=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){return function(){}}();e.ElementDefinition=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.DataElementDefinition=n;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.PurposeDefinition=i;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.CustomPreferenceOptionDefinition=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.CustomPreferenceDefinition=o;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.TopicDefinition=u;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t);e.CustomElementDefinition=s;var c=function(){return function(){}}();e.DefinitionLabel=c;var a=function(){return function(){}}();e.DataElementOption=a}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){return function(){}}();e.SdkSettingsBase=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.SdkSettingsBase);e.ConsentSdkSettings=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(){}return t.GeneratePurposePayload=function(n,i){if(e.SettingsApi.IsExplicitConsent(i)){var r=[];if(!n)return r;var o=e.SettingsApi.GetCollectionPointForm(i);return n.forEach(function(e){var n=t.IsElementChecked(e,o);if(n)t.FindCreateReceiptPurpose(r,e);e.topics&&e.topics.forEach(function(n){var i=t.IsElementChecked(n,o);i&&t.FindCreateReceiptPreference(r,e,n)}),e.customPreferences&&t.ProcessCustomPreferences(r,e,i)}),r}if(!e.SettingsApi.IsMultiPurposeVersion(i))return[{Id:e.SettingsApi.GetDefaultPurposeId(i)}]},t.ProcessCustomPreferences=function(n,i,r){i.customPreferences.forEach(function(o){var u,s=o.options;s&&s.length&&(u="function"==typeof o.getOptionsValue?o.getOptionsValue():s.filter(function(n){return t.IsElementChecked(n,e.SettingsApi.GetCollectionPointForm(r))}).map(function(e){return e.identifierValues}).filter(Boolean),t.AddCustomPreferenceOptions(n,i,o,u,r))})},t.AddCustomPreferenceOptions=function(e,n,i,r,o){var u=r&&Array.isArray(r)?r.filter(Boolean):[];u.length&&(t.FindCreateReceiptPurpose(e,n),t.AddReceiptCustomPreference(e,n,i),t.AddReceiptConsentedOptions(e,n,i,u,o))},t.MapToOptionsIdByIdentifierValue=function(t,n,i,r){var o=e.SettingsApi.GetPreferences(r).find(function(e){return e.purpose===t.purpose});if(o){var u=o.customPreferences.find(function(e){return e.customPreference===n.customPreference});if(u)return i.map(function(e){return u.options.find(function(t){return t.identifierValues===e})}).filter(Boolean).map(function(e){return e.option})}},t.GenerateDataElementsPayload=function(n,i){if(n){var r={},o=e.SettingsApi.GetCollectionPointForm(i);return n.forEach(function(e){if(!(e.skipConsent&&"true"===e.skipConsent.toString().toLowerCase())){var n="";if(e.dataElementOptions&&e.dataElementOptions.length){var i=[];e.dataElementOptions.forEach(function(e){t.IsElementChecked(e,o)&&i.push(e.option)}),n=e.multiSelect?i:i[0]||""}else n=t.ElementValue(e,o);r[e.dataElementName]=n}}),r}},t.GenerateCustomElementsPayload=function(n,i){if(n){var r={},o=e.SettingsApi.GetCollectionPointForm(i);return n.forEach(function(e){r[e.name]=e.value||t.ElementValue(e,o)}),r}},t.FindCreateReceiptPreference=function(e,n,i){var r=t.FindCreateReceiptPurpose(e,n);r.Preferences||(r.Preferences=[]);for(var o=0;o<r.Preferences.length;o++)if(r.Preferences[o].TopicId===i.topic)return r.Preferences[o];var u={TopicId:i.topic};return r.Preferences.push(u),r.Preferences[r.Preferences.length-1]},t.AddReceiptCustomPreference=function(e,n,i){var r=t.FindCreateReceiptPurpose(e,n);r&&(r.CustomPreferences=r.CustomPreferences||[],r.CustomPreferences.push({Id:i.customPreference,Options:[]}))},t.AddReceiptConsentedOptions=function(e,n,i,r,o){var u=t.FindCreateReceiptPurpose(e,n);if(u&&u.CustomPreferences){var s=u.CustomPreferences.find(function(e){return e.Id===i.customPreference});s&&(s.Options=t.MapToOptionsIdByIdentifierValue(n,i,r,o).slice())}},t.FindCreateReceiptPurpose=function(e,t){for(var n=0;n<e.length;n++)if(e[n].Id===t.purpose)return e[n];return e.push({Id:t.purpose}),e[e.length-1]},t.IsElementChecked=function(t,n){var i=e.Helpers.FindElementByDefinition(t,"input",n),r=!1;return i&&(r="[object Array]"===Object.prototype.toString.call(i)&&i.length?i[0].checked:i.checked||!1),r},t.ElementValue=function(t,n){var i=e.Helpers.FindElementByDefinition(t,"input",n)||e.Helpers.FindElementByDefinition(t,"select",n),r="";if(i)if("[object Array]"===Object.prototype.toString.call(i)&&i.length){r=[];for(var o=0;o<i.length;o++)r.push(i[o].value)}else r=i.value||"";return r},t}();e.PayloadGenerator=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(e,t,n){this._token=e,this._identifier=t,this._id=n,this.transactionToken=e,this.identifier=t,this.id=n,this.ValidateInputData()}return t.TriggerReceiptHandler=function(n){return __awaiter(this,void 0,void 0,function(){var i,r,o,u;return __generator(this,function(s){switch(s.label){case 0:return t.NeedsConditionalTrigger(n)&&!t.GetConditionalCheckboxTicked(n)?[2,Promise.resolve(!1)]:(i=e.PayloadGenerator.GeneratePurposePayload(e.SettingsApi.GetPreferences(n),n),r=e.PayloadGenerator.GenerateDataElementsPayload(e.SettingsApi.GetDataElements(n),n),o=e.PayloadGenerator.GenerateCustomElementsPayload(e.SettingsApi.GetCustomElements(n),n),e.SettingsApi.GetNoConsentTransactions(n)||!e.SettingsApi.IsExplicitConsent(n)||i&&0!==i.length?[4,t.TriggerReceiptAction(!1,i,r,o,"","",!1,"",n)]:[2,Promise.resolve(!1)]);case 1:return u=s.sent(),t.InjectReceiptId(u,n),[2,!0]}})})},t.TriggerReceiptAction=function(n,i,r,o,u,s,c,a,l,f){return void 0===u&&(u=""),void 0===s&&(s=""),__awaiter(this,void 0,void 0,function(){var p,d,g,m,h;return __generator(this,function(b){switch(b.label){case 0:return(p=s&&u?t.CreateFromCustomData(u,s):t.CreateFromScriptToken(u,l))?[4,p.Send(i,r,o,c,a,l,f)]:[2,null];case 1:return!(d=b.sent())||c?[2,d]:(!0===n&&(g=new Date,m="receipt-"+g.toISOString()+".txt",e.Helpers.DownloadText(m,d)),h=e.Helpers.DecodeToken(d),[2,h?h.jti:null])}})})},t.InjectReceiptId=function(t,n){var i=e.SettingsApi.GetConfirmationId(n);if(!i)return!1;var r=e.Helpers.FindElementById(i,e.SettingsApi.GetCollectionPointForm(n));return!!r&&(r.value=e.Helpers.HtmlEncode(t),!0)},t.NeedsConditionalTrigger=function(t){return!e.SettingsApi.IsMultiPurposeVersion(t)&&e.SettingsApi.IsExplicitConsent(t)&&!!e.SettingsApi.GetConditionalConsentTriggerId(t)},t.GetConditionalCheckboxTicked=function(t){var n=e.SettingsApi.GetCollectionPointForm(t),i=e.Helpers.FindElementById(e.SettingsApi.GetConditionalConsentTriggerId(t),n);return null!=i&&i.checked},t.CreateFromScriptToken=function(n,i){var r=e.SettingsApi.GetToken(i),o=e.SettingsApi.GetCollectionPointForm(i);if(!r)return null;if(!n){var u=e.Helpers.FindElementById(e.SettingsApi.GetIdentifierId(i),o);if(null==u)return null;n=u.value}return new t(r,n)},t.CreateFromCustomData=function(e,n){return new t(n,e)},t.prototype.Send=function(t,n,i,r,o,u,s){return __awaiter(this,void 0,void 0,function(){var c,a,l,f,p,d,g;return __generator(this,function(m){switch(m.label){case 0:c={requestInformation:this.transactionToken,identifier:this.identifier,test:s||e.SettingsApi.IsTestMode(u),language:e.SettingsApi.GetLanguage(u),purposes:t,dsDataElements:n},i&&(c=Object.assign(c,i)),m.label=1;case 1:return m.trys.push([1,3,,4]),a=JSON.stringify(c),r?(l=e.Helpers.BeaconCall(e.SettingsApi.GetReceiptApiEndpoint(u),a),[2,Promise.resolve(l?e.Constants.BeaconSuccessResult:null)]):[4,e.Helpers.JsonCallAsync("POST",e.SettingsApi.GetReceiptApiEndpoint(u),a,o)];case 2:return(f=m.sent())?(p=JSON.parse(f.responseText),d=p.receipt,[2,d]):[2,null];case 3:return g=m.sent(),[2,null];case 4:return[2]}})})},t.prototype.ValidateInputData=function(){this.identifier&&(this.identifier=this.identifier.trim())},t}();e.Receipt=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(){}return t.MergeExternalSettings=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,r,o;return __generator(this,function(u){switch(u.label){case 0:return[4,e.Helpers.JsonCallAsync("GET",n)];case 1:return(i=u.sent())&&200===i.statusCode?(r=JSON.parse(i.responseText||"{}"),o=__assign({},t,r),[2,o]):[2,null]}})})},t.ReadSettingsString=function(){var t=this.SdkSettings;if(t){var n=e.Helpers.unicodeBase64Decode(t);return JSON.parse(n)}return{}},Object.defineProperty(t,"ScriptBaseUrl",{get:function(){return this.ScriptOption("src").split("/"+e.Constants.ScriptSubFolder)[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SdkSettings",{get:function(){return this.ScriptOption(e.Constants.Settings)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"SdkSettingsUrl",{get:function(){var t=this.ScriptOption(e.Constants.SettingsUrl);return this.isPreview&&-1===t.indexOf("-draft")&&-1!==t.indexOf("-active")&&(t=t.replace("-active","-draft")),-1!==t.indexOf("-draft")&&(this.isTestMode=!0),t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"BundleUrl",{get:function(){return this.ScriptOption(e.Constants.BundleUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ScriptTagElement",{get:function(){return e.Helpers.FindElementById(this.ScriptTagId)},enumerable:!0,configurable:!0}),t.ScriptOption=function(e){var t=this.ScriptTagElement.getAttribute(e),n=this.ScriptTagElement.getAttribute("data-"+e);return t||n||this.ScriptContentOption(e)},t.ScriptContentOption=function(e){if(!this.ScriptTagElement||!this.ScriptTagElement.innerText)return"";for(var t=this.ScriptTagElement.innerText.split(" ").join("").split(";"),n=0;n<t.length;n++){var i=t[n].split("=",2);if(i[0].trim()===e)return i[1].trim().split('"').join("").split("\\x3d").join("=")}return""},t.getParamForIE=function(){return{get:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?null:decodeURI(t[1])||""}}},t.getUrlParam=function(){var e;e=window.document.documentMode?this.getParamForIE():new URLSearchParams(window.location.search),this.isPreview="true"===e.get("otpreview")},t.ScriptTagId="",t.isPreview=!1,t.isTestMode=void 0,t}();e.ScriptTagBase=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),Object.defineProperty(n,"Settings",{get:function(){return this._settings||(this._settings=this.ReadSettingsString()),this._settings},enumerable:!0,configurable:!0}),n.GetExternalSettings=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.MergeExternalSettings(this.Settings,this.SdkSettingsUrl)];case 1:return(e=t.sent())?(this._settings=e,[2,!0]):[2,!1]}})})},Object.defineProperty(n,"ManualTrigger",{get:function(){return!n.IdentifierId||!n.TriggerId||n.Settings.manualTrigger&&"true"===n.Settings.manualTrigger.toString().toLowerCase()},set:function(e){n.Settings.manualTrigger=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ReceiptApiEndpoint",{get:function(){return n.Settings.receiptApiEndpoint},set:function(e){n.Settings.receiptApiEndpoint=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"DataElements",{get:function(){return n.Settings.dataElements},set:function(e){n.Settings.dataElements=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"CustomElements",{get:function(){return n.Settings.customElements},set:function(e){n.Settings.customElements=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"Preferences",{get:function(){return n.Settings.preferences},set:function(e){n.Settings.preferences=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsTestMode",{get:function(){return n.Settings.testMode},set:function(e){n.Settings.testMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsFixedTooltip",{get:function(){return n.Settings.fixedTooltip},set:function(e){n.Settings.fixedTooltip=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"FixedTooltipId",{get:function(){return n.Settings.fixedTooltipId||e.Constants.FixedReceiptTooltip},set:function(e){n.Settings.fixedTooltipId=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ShowNotice",{get:function(){return n.Settings.showNotice},set:function(e){n.Settings.showNotice=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"Language",{get:function(){return n.Settings.language},set:function(e){n.Settings.language=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"NoConsentTransactions",{get:function(){return n.Settings.noConsentTransactions},set:function(e){n.Settings.noConsentTransactions=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"RegisterConsentEvent",{get:function(){return n.ScriptOption(e.Constants.ConsentRegisterEventAttribute)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"Token",{get:function(){return n.ScriptOption(e.Constants.Token)||n.Settings.token},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IdentifierId",{get:function(){return n.ScriptOption(e.Constants.IdentifierIdAttribute)||n.Settings.identifierId},set:function(e){n.Settings.identifierId=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"TriggerId",{get:function(){return n.ScriptOption(e.Constants.TriggerIdAttribute)||n.Settings.triggerId},set:function(e){n.Settings.triggerId=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ConditionalConsentTriggerId",{get:function(){return n.ScriptOption(e.Constants.ConditionalConsentTriggerIdAttribute)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"ConfirmationId",{get:function(){return n.ScriptOption(e.Constants.ConfirmationIdAttribute)||n.Settings.confirmationId},set:function(e){n.Settings.confirmationId=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsConfirmationPage",{get:function(){return!!n.IdentifierId&&!e.Helpers.FindElementById(n.IdentifierId)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsExplicitConsent",{get:function(){var t=e.Helpers.DecodeToken(n.Token);return e.Constants.ExplicitConsentTypes.indexOf(t.consentType)>-1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsFormSubmitConsent",{get:function(){var t=e.Helpers.DecodeToken(n.Token);return t.consentType===e.Constants.FormSubmitConsentType},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsMultiPurposeVersion",{get:function(){var t=e.Helpers.DecodeToken(n.Token);return t&&t.purposes&&t.purposes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(n,"DefaultPurposeId",{get:function(){return e.Helpers.DecodeToken(n.Token).purposes[0].id},enumerable:!0,configurable:!0}),n.ScriptTagId=e.Constants.ConsentScriptIdAttribute,n}(e.ScriptTagBase);e.ScriptTag=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.GetMultiCPExternalSettings=function(e,t){return __awaiter(this,void 0,void 0,function(){var i=this;return __generator(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){return __awaiter(i,void 0,void 0,function(){var i;return __generator(this,function(r){switch(r.label){case 0:return[4,n.MergeExternalSettings({},n.GetCollectionPointUrl(t,e))];case 1:return(i=r.sent())&&(this._multiCPSettings[e]=i),[2]}})})}))];case 1:return[2,r.sent()]}})})},Object.defineProperty(n,"MultiCPSettings",{get:function(){return this._multiCPSettings},enumerable:!0,configurable:!0}),Object.defineProperty(n,"IsMultiFormCP",{get:function(){return Boolean(n.TenantId&&n.MultiFormCollectionPointIds.length)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"MultiFormCollectionPointIds",{get:function(){if(!this._collectionPoints){var t=n.CollectionPointForms(),i=[];if(t&&t.length)for(var r=0;r<t.length;r++)i.push(t[r].getAttribute(e.Constants.CollectionPointAttibute));this._collectionPoints=i}return this._collectionPoints},enumerable:!0,configurable:!0}),n.CollectionPointForms=function(){return e.Helpers.FindElementsByQueryAll("form["+e.Constants.CollectionPointAttibute+"]")},n.CollectionPointForm=function(t){return e.Helpers.FindElementByQuery("form["+e.Constants.CollectionPointAttibute+'="'+t+'"]')},n.GetTriggerElement=function(t){var i=this._multiCPSettings[t].triggerId,r=n.CollectionPointForm(t);return e.Helpers.FindElementById(i,r)},n.GetCollectionPointUrl=function(t,i){var r,o=n.ScriptBaseUrl+"/"+e.Constants.SettingsSubFolder+"/"+t+"/"+i,u=-1!==i.indexOf("-draft");return-1!==(r=n.isPreview&&!u?(-1!==o.indexOf("-active")?o.replace("-active",""):o)+"-draft.json":u||-1!==i.indexOf("-active")?o+".json":o+"-active.json").indexOf("-draft")&&(this.multiformPreview[i]=!0),r},Object.defineProperty(n,"TenantId",{get:function(){return n.ScriptOption(e.Constants.TenantIdAttribute)},enumerable:!0,configurable:!0}),n.GetPreferences=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].preferences:[]},n.GetCustomElements=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].customElements:null},n.GetDataElements=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].dataElements:[]},n.GetNoConsentTransactions=function(e){return!!this._multiCPSettings[e]&&this._multiCPSettings[e].noConsentTransactions},n.GetToken=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].token:""},n.IsExplicitConsent=function(t){var i=n.GetToken(t),r=e.Helpers.DecodeToken(i);return e.Constants.ExplicitConsentTypes.indexOf(r.consentType)>-1},n.IsFormSubmitConsent=function(t){var i=n.GetToken(t),r=e.Helpers.DecodeToken(i);return r.consentType===e.Constants.FormSubmitConsentType},n.IsMultiPurposeVersion=function(t){var i=n.GetToken(t),r=e.Helpers.DecodeToken(i);return r&&r.purposes&&r.purposes.length>1},n.GetDefaultPurposeId=function(t){var i=n.GetToken(t);return e.Helpers.DecodeToken(i).purposes[0].id},n.GetConditionalConsentTriggerId=function(t){return n.ScriptOption(e.Constants.ConditionalConsentTriggerIdAttribute)},n.GetLanguage=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].language:""},n.IsTestMode=function(e){return!!this._multiCPSettings[e]&&this._multiCPSettings[e].testMode},n.GetReceiptApiEndpoint=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].receiptApiEndpoint:""},n.GetConfirmationId=function(t){return(this._multiCPSettings[t]?this._multiCPSettings[t].confirmationId:"")||n.ScriptOption(e.Constants.ConfirmationIdAttribute)},n.GetShowNotice=function(e){return!!this._multiCPSettings[e]&&this._multiCPSettings[e].showNotice},n.GetIdentifierId=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].identifierId:""},n.IsFixedTooltip=function(e){return!!this._multiCPSettings[e]&&this._multiCPSettings[e].fixedTooltip},n.GetFixedTooltipId=function(e){return this._multiCPSettings[e]?this._multiCPSettings[e].fixedTooltipId:""},n.ScriptTagId=e.Constants.ConsentScriptIdAttribute,n._multiCPSettings={},n.multiformPreview={},n}(e.ScriptTagBase);e.MultiForm=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(){}return t.TooltipElement=function(t,n){return void 0===t&&(t=null),t?e.Helpers.FindElementById(t+"Tooltip",n):null},t.Create=function(n,i,r){void 0===i&&(i=!0);var o=e.SettingsApi.GetCollectionPointForm(r),u=e.Helpers.FindElementById(n,o);if(u){t.ApplyBuiltInStyles(r);var s=e.Helpers.CreateElement("span");s.id=n+"Tooltip",s.className=t.TooltipClassName,s.setAttribute("target",n),e.SettingsApi.IsFixedTooltip(r)?e.Helpers.FindElementById(e.SettingsApi.GetFixedTooltipId(r),o).appendChild(s):(u.parentElement.appendChild(s),t.SetPosition(u,r)),u.addEventListener("mouseover",function(e){return t.Show(u,!0,r)}),u.addEventListener("focus",function(e){return t.Show(u,!0,r)}),document.addEventListener("scroll",function(e){return t.SetPosition(u,r)}),i&&(u.addEventListener("mouseout",function(e){return t.Hide(u,!1,r)}),u.addEventListener("blur",function(e){return t.Hide(u,!1,r)})),s.addEventListener("mouseover",function(e){return t.MouseInsideTooltipId=n}),s.addEventListener("mouseout",function(e){t.MouseInsideTooltipId&&(t.MouseInsideTooltipId=null),i&&setTimeout(function(){return t.Hide(u,!1,r)},200)})}},t.SetPosition=function(n,i){if(!e.SettingsApi.IsFixedTooltip(i)){var r=e.SettingsApi.GetCollectionPointForm(i),o=n.getBoundingClientRect(),u=t.TooltipElement(n.id,r),s=u.getBoundingClientRect(),c=o.top-s.height/2+o.height/2,a=o.right;u.style.left=a+"px",u.style.top=c+"px"}},t.SetContent=function(n,i,r){var o=t.TooltipElement(i,e.SettingsApi.GetCollectionPointForm(r));o&&(o.innerHTML=n)},t.Show=function(n,i,r){void 0===i&&(i=!0);var o=e.SettingsApi.GetCollectionPointForm(r);if(this.ActiveTooltipId){var u=e.Helpers.FindElementById(this.ActiveTooltipId,o);u&&t.Hide(u,!0,r)}i&&t.SetPosition(n,r),this.ActiveTooltipId=n.id,t.TooltipElement(n.id,o).className=t.TooltipClassName+" "+t.TooltipVisibleClassName},t.Hide=function(n,i,r,o){void 0===i&&(i=!1),n.className.indexOf(t.TooltipAlwaysVisibleClassName)>-1||(i||document.activeElement!==n&&this.MouseInsideTooltipId!==n.id)&&(this.ActiveTooltipId=null,t.TooltipElement(n.id,e.SettingsApi.GetCollectionPointForm(r)).className=t.TooltipClassName)},t.ApplyBuiltInStyles=function(n){if(!t.StylesApplied){var i=e.SettingsApi.IsFixedTooltip(n),r=i?"absolute":"fixed",o=i?"none":"block",u="\n            .receipt-tooltip {\n                background: #fff;\n                color: #000;\n                font-size: .8rem;\n                font-weight: 400;\n                text-decoration: none;\n                text-align: left;\n                padding: .6em .75rem;\n                border-radius: 4px;\n                position: "+r+";\n                opacity: 0;\n                visibility: hidden;\n                transition: "+(i?"none":"opacity .6s")+";\n                box-shadow: 0 .5rem 1rem -.5rem #000;\n                z-index: 1000;\n                margin-left: 10px;\n                margin-right: 10px;\n            }\n            .receipt-tooltip-visible {\n                visibility: visible;\n                opacity: .9\n            }\n            .receipt-tooltip::before {\n                content: ' ';\n                display: "+o+";\n                background: inherit;\n                width: 10px;\n                height: 10px;\n                position: absolute;\n                transform: rotate(45deg);\n                left: -3px;\n                top: 50%;\n                margin-top: -5px\n            }\n            .receipt-headline {\n                margin: 0;\n                font-weight: bold;\n            }\n            .receipt-header {\n                font-size: 1.2rem;\n            }\n        ",s=e.Helpers.FindElementsByTagName("head")[0],c=e.Helpers.CreateElement("style");c.type="text/css",c.appendChild(e.Helpers.CreateTextNode(u)),s.appendChild(c),t.StylesApplied=!0}},t.TooltipClassName="receipt-tooltip",t.TooltipVisibleClassName="receipt-tooltip-visible",t.TooltipAlwaysVisibleClassName="receipt-tooltip-always",t.StylesApplied=!1,t}();e.Tooltip=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){return function(){}}();e.ApiLabel=t;var n=function(){function t(){}return t.GetPurposeLabels=function(t){var n=this;void 0===t&&(t="");var i=e.SettingsApi.GetPreferences(),r=[];return i?(i.forEach(function(e){var i=n.DefinitionToLabel(e,t);i&&r.push(i)}),r):r},t.GetTopicLabels=function(t){var n=this;void 0===t&&(t="");var i=e.SettingsApi.GetPreferences(),r=[];return i?(i.forEach(function(e){e.topics&&e.topics.forEach(function(e){var i=n.DefinitionToLabel(e,t);i&&r.push(i)})}),r):r},t.GetPurposeLabel=function(e,t){void 0===t&&(t="");var n=this.FindPurposeDefinition(e);return n?this.DefinitionToLabel(n,t):null},t.GetTopicLabel=function(e,t){void 0===t&&(t="");var n=this.FindTopicDefinition(e);return n?this.DefinitionToLabel(n,t):null},t.GetPurposeDefinitions=function(){return e.SettingsApi.GetPreferences()},t.SetPurposeDefinitions=function(t){e.ScriptTag.Preferences=t},t.SetCustomPreferencesDefinitions=function(t,n){var i=e.Api.FindPurposeDefinition(t);i&&n.forEach(function(e){i.customPreferences.forEach(function(t,n){e.identifierValues===t.identifierValues&&(i.customPreferences[n]=__assign({},t,e))})})},t.SetPurposeIdentifier=function(e,t){var n=this.FindPurposeDefinition(e);return!!n&&(n.identifierValues=t,!0)},t.SetTopicIdentifier=function(e,t){var n=this.FindTopicDefinition(e);return!!n&&(n.identifierValues=t,!0)},t.TriggerBeaconReceiptAction=function(e,t,n,i,r,o){return this.TriggerReceiptAction(e,t,n,i,r,o,!0)},t.TriggerReceiptAction=function(t,n,i,r,o,u,s){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(c){return[2,e.Receipt.TriggerReceiptAction(u,i,r,o,t,n,s)]})})},t.RegisterEvent=function(e){this.eventType=e},t.InstallCP=function(t,n){var i=n&&"function"==typeof n;e.MultiForm.GetMultiCPExternalSettings([t],e.MultiForm.TenantId).then(function(){e.ScriptInstaller.InstallMultiFormReceiptTriggerHandler(t),i&&n(!0)}).catch(function(){i&&n(!1)})},t.FindPurposeDefinition=function(t){var n=e.SettingsApi.GetPreferences();return n?n.find(function(e){return e.identifierValues===t||e.purpose===t}):null},t.FindTopicDefinition=function(t){var n=e.SettingsApi.GetPreferences();if(!n)return null;for(var i=0;i<n.length;i++)if(n[i].topics){var r=n[i].topics.find(function(e){return e.identifierValues===t||e.topic===t});if(r)return r}return null},t.DefinitionToLabel=function(e,t){if(void 0===t&&(t=""),!e||!e.labels||0===e.labels.length)return null;var n=t?e.labels.find(function(e){return e.language===t}):e.labels[0];if(!n)return null;var i={id:e.purpose||e.topic,domId:e.identifierValues,language:n.language,label:n.label};return n.description&&(i.description=n.description),i},t}();e.Api=n}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.GetFixedTooltipId=function(t){return t?e.MultiForm.GetFixedTooltipId(t):e.ScriptTag.FixedTooltipId},n.IsFixedTooltip=function(t){return t?e.MultiForm.IsFixedTooltip(t):e.ScriptTag.IsFixedTooltip},n.GetIdentifierId=function(t){return t?e.MultiForm.GetIdentifierId(t):e.ScriptTag.IdentifierId},n.GetShowNotice=function(t){return t?e.MultiForm.GetShowNotice(t):e.ScriptTag.ShowNotice},n.GetConfirmationId=function(t){return t?e.MultiForm.GetConfirmationId(t):e.ScriptTag.ConfirmationId},n.GetReceiptApiEndpoint=function(t){return t?e.MultiForm.GetReceiptApiEndpoint(t):e.ScriptTag.ReceiptApiEndpoint},n.GetLanguage=function(t){return t?e.MultiForm.GetLanguage(t):e.ScriptTag.Language},n.IsTestMode=function(t){return t?e.MultiForm.multiformPreview[t]||e.MultiForm.IsTestMode(t):e.ScriptTag.isTestMode||e.ScriptTag.IsTestMode},n.GetConditionalConsentTriggerId=function(t){return t?e.MultiForm.GetConditionalConsentTriggerId(t):e.ScriptTag.ConditionalConsentTriggerId},n.GetCollectionPointForm=function(t){return t?e.MultiForm.CollectionPointForm(t):null},n.GetDefaultPurposeId=function(t){return t?e.MultiForm.GetDefaultPurposeId(t):e.ScriptTag.DefaultPurposeId},n.IsMultiPurposeVersion=function(t){return t?e.MultiForm.IsMultiPurposeVersion(t):e.ScriptTag.IsMultiPurposeVersion},n.IsExplicitConsent=function(t){return t?e.MultiForm.IsExplicitConsent(t):e.ScriptTag.IsExplicitConsent},n.GetPreferences=function(t){return t?e.MultiForm.GetPreferences(t):e.ScriptTag.Preferences},n.GetCustomElements=function(t){return t?e.MultiForm.GetCustomElements(t):e.ScriptTag.CustomElements},n.GetDataElements=function(t){return t?e.MultiForm.GetDataElements(t):e.ScriptTag.DataElements},n.GetNoConsentTransactions=function(t){return t?e.MultiForm.GetNoConsentTransactions(t):e.ScriptTag.NoConsentTransactions},n.GetToken=function(t){return t?e.MultiForm.GetToken(t):e.ScriptTag.Token},n.IsFormSubmitConsent=function(t){return t?e.MultiForm.IsFormSubmitConsent(t):e.ScriptTag.IsFormSubmitConsent},n.getEventType=function(){return e.Api.eventType||e.ScriptTag.RegisterConsentEvent},n}(e.MultiForm);e.SettingsApi=t}(OneTrust||(OneTrust={}));var OneTrust;!function(e){var t=function(){function t(){}return t.RegisterConsentReceipt=function(){switch(t.processPreInstallQ(),e.ScriptTag.getUrlParam(),e.SettingsApi.getEventType()){case e.ConsentRegisterEventType.DOMLOAD:e.Helpers.AddListener(window,"DOMContentLoaded",function(){t.installReceipt()});break;case e.ConsentRegisterEventType.PAGELOAD:e.Helpers.AddListener(window,"load",function(){t.installReceipt()});break;case e.ConsentRegisterEventType.EXTERNAL:break;default:t.installReceipt()}},t.installReceipt=function(){e.ScriptInstaller.InstallConsentReceipt().then(function(e){e&&t.processPostInstallQ()})},t.processPreInstallQ=function(){var t=window.OtSdk;if(t&&t.q&&t.q.length){var n=t.q.filter(function(t){if("consent"!==t[0])return!0;if("RegisterEvent"!==t[1])return!0;try{e.Api[t[1]].apply(e.Api,Array.prototype.slice.call(t,2))}catch(e){}finally{return!1}});t.q=n}},t.processPostInstallQ=function(){var t=window.OtSdk;if(t&&t.q&&t.q.length){var n=t.q.filter(function(t){if("consent"!==t[0])return!0;try{e.Api[t[1]].apply(e.Api,Array.prototype.slice.call(t,2))}catch(e){}finally{return!1}});t.q=n}},t.InstallReceiptTooltips=function(n){if(e.SettingsApi.GetShowNotice(n)){var i=e.SettingsApi.GetDataElements(n);if(i&&0!==i.length){var r=e.Helpers.DecodeToken(e.SettingsApi.GetToken(n));i.forEach(function(t){if(t.noticeHeadline||t.noticeReason){e.Tooltip.Create(t.identifierValues,!0,n);var i='\n                <p class="receipt-headline">'+e.Helpers.HtmlEncode(t.noticeHeadline)+"</p>\n                <p>"+e.Helpers.HtmlEncode(t.noticeReason)+'</p>\n                <p class="receipt-headline"><a href="'+e.Helpers.HtmlEncode(r.policy_uri)+'" target="_blank">Based on our Privacy Policy</a></p>';e.Tooltip.SetContent(i,t.identifierValues,n)}})}else t.InstallDefaultReceiptTooltip(n)}},t.InstallConsentReceipt=function(){if(e.ScriptTag.IsConfirmationPage){var n=e.Helpers.GetParameterByName(e.Constants.ReceiptIdParameterName,document.location.href);return n&&t.ShowReceiptConfirmation(n),Promise.resolve(!0)}return e.ScriptTag.SdkSettingsUrl?(e.Api.Initialized=e.ScriptTag.GetExternalSettings().then(function(e){return!!e&&(t.CheckManualTrigger(),!0)}),e.Api.Initialized):e.MultiForm.IsMultiFormCP?(e.MultiForm.getUrlParam(),e.Api.Initialized=e.MultiForm.GetMultiCPExternalSettings(e.MultiForm.MultiFormCollectionPointIds,e.MultiForm.TenantId).then(function(){return t.installMultiformHandler(),!0}),e.Api.Initialized):(t.CheckManualTrigger(),Promise.resolve(!0))},t.CheckManualTrigger=function(){e.ScriptTag.ManualTrigger||t.InstallReciptDefaultAction()},t.InstallReciptDefaultAction=function(){t.InstallReceiptTriggerHandler(e.ScriptTag.TriggerId),t.InstallReceiptTooltips()},t.InstallReceiptTriggerHandler=function(n){return __awaiter(this,void 0,void 0,function(){var i,r=this;return __generator(this,function(o){return(i=e.Helpers.FindElementById(n))?(e.Helpers.AddListener(i,"click",function(n){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return t.ReceiptTriggered?[2,!0]:(t.ReceiptTriggered=!0,e.Helpers.StopEvent(n),[4,e.Receipt.TriggerReceiptHandler()]);case 1:return i.sent(),e.Helpers.RestartMouseEvent(n),[2]}})})}),[2]):[2]})})},t.InstallDefaultReceiptTooltip=function(t){var n=e.SettingsApi.GetIdentifierId(t);if(n){e.Tooltip.Create(n,!0,t);var i=e.Helpers.DecodeToken(e.SettingsApi.GetToken(t)),r='\n            <h4 class="receipt-header">Processing Consent Notice</h4>\n            <p class="receipt-headline">You are agreeing to:</p>\n            <p>'+e.Helpers.HtmlEncode(i.description)+'</p>\n            <p class="receipt-headline">You will be identified by your:</p>\n            <p>'+e.Helpers.HtmlEncode(i.sub)+'</p>\n            <p class="receipt-headline"><a href="'+e.Helpers.HtmlEncode(i.policy_uri)+'" target="_blank">Based on our Privacy Policy</a></p>';e.Tooltip.SetContent(r,n,t)}},t.InstallMultiFormReceiptTriggerHandler=function(n){var i=this,r=e.MultiForm.GetTriggerElement(n);r&&(e.Helpers.AddListener(r,"click",function(r){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return t.MultiFormReceiptTriggered[n]?[2,!0]:(t.MultiFormReceiptTriggered[n]=!0,e.Helpers.StopEvent(r),[4,e.Receipt.TriggerReceiptHandler(n)]);case 1:return i.sent(),e.Helpers.RestartMouseEvent(r),[2]}})})}),t.InstallReceiptTooltips(n))},t.installMultiformHandler=function(){e.MultiForm.MultiFormCollectionPointIds.forEach(function(e){t.InstallMultiFormReceiptTriggerHandler(e)})},t.ShowReceiptConfirmation=function(t){var n="Your receipt id: "+t;return e.Helpers.FindElementById(e.ScriptTag.ConfirmationId).innerText=n,!0},t.MultiFormReceiptTriggered={},t}();e.ScriptInstaller=t}(OneTrust||(OneTrust={})),OneTrust.ScriptInstaller.RegisterConsentReceipt();